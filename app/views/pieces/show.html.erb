<h1>Pieces show page goes here</h1>

<div class="chessboard">

  <div class="pieces">
    <% file = 0 %>
    <% rank = 9 %>

    <% 8.times do %>
      <% rank = rank - 1 %>
      <% 8.times do %>
        <% file = file + 1 %>
          <div class="square" id="<%= [file, rank] %>">
            <% if @piece_coord == [file, rank] %><!-- WILL NEED TO CHECK HERE if 
                                 `[file, rank]` returns the expected format; or 
                                  how about something like `this.id` in JS -->
              <div class="highlight">
                <p><%= "#{file}, #{rank}" %></p>
              </div>
            <% else %>
              <div>
                <%= link_to piece_path(@current_piece, file: file, rank: rank), method: :patch do %>
                  <p><%= "#{file}, #{rank}" %></p>
                <% end %>
              </div>
            <% end %>
          </div>
        <% end %>
      <br />
      <% file = 0 %>
    <% end %>
  </div>

</div>

<script>

$(function() {
  $('.square').click(function() {
  let square_id = this.id;
  console.log(square_id);
  };
  update: function(e, ui) {
    alert(ui.item.index());
  });
});

</script>